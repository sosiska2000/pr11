using System.Collections.Generic; // Использование коллекций List<T>

namespace APIGigaChatImageWPF.Models.Response // Пространство имен для моделей ответов WPF-приложения
{
    // Класс, представляющий структуру запроса к GigaChat API для генерации текстовых ответов
    // Используется для сериализации в JSON и отправки на сервер GigaChat
    public class RequestModel
    {
        // Название модели ИИ, которую следует использовать для генерации ответа
        // Значение по умолчанию: "GigaChat" (базовая модель)
        // Может быть изменено на другие доступные модели (например, "GigaChat-Plus")
        public string model { get; set; } = "GigaChat";

        // Список сообщений, представляющих историю диалога
        // Каждое сообщение имеет роль (role) и содержание (content)
        // Этот параметр передает контекст разговора модели для генерации релевантных ответов
        public List<Message> messages { get; set; }

        // Флаг, указывающий, должен ли ответ приходить в потоковом режиме
        // Значение по умолчанию: false (ответ придет одним полным сообщением)
        // Если установить true, ответ будет приходить частями (streaming), что полезно для длинных ответов
        public bool stream { get; set; } = false;

        // Коэффициент штрафа за повторения (penalty for repetition)
        // Значение по умолчанию: 1 (нет штрафа)
        // Значения больше 1 уменьшают вероятность повторения одних и тех же фраз
        // Используется для повышения разнообразия генерируемого текста
        public int repetition_penalty { get; set; } = 1;

        // Вложенный класс, представляющий одно сообщение в диалоге
        public class Message
        {
            // Роль отправителя сообщения в диалоге
            // Возможные значения:
            // - "user": сообщение от пользователя (запрос к модели)
            // - "assistant": ответ от ИИ-ассистента (предыдущие ответы модели)
            // - "system": системное сообщение для задания поведения модели
            public string role { get; set; }

            // Текстовое содержание сообщения
            // Для role="user": содержит вопрос или запрос пользователя
            // Для role="assistant": содержит предыдущие ответы модели (для поддержания контекста)
            // Для role="system": содержит инструкции для модели (например, "Ты полезный ассистент")
            public string content { get; set; }
        }
    }
}